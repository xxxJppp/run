(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5753040b"],{"3fc0":function(e,t,i){e.exports=i.p+"img/alipay_guide.83bbb1a4.jpg"},"8d8e":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"upload-code"},[i("van-nav-bar",{staticClass:"MB10",attrs:{"left-text":"返回",title:"收款码","left-arrow":""},on:{"click-left":e.onClickLeft}}),i("div",[e.userCodeWXImg?i("img",{staticClass:"upload-img",attrs:{src:e.wechatCodeURL+e.userCodeWXImg}}):e._e(),i("file-upload",{ref:"upload",staticClass:"input-file",attrs:{"input-id":"wx","post-action":e.host+"/uploadCode",accept:"image/*",data:{codeUserId:e.userId}},on:{"input-file":e.inputFile,"input-filter":e.inputFilter},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}},[i("div",[e.userCodeWXImg?e._e():i("div",{staticClass:"upload-img"},[i("van-icon",{attrs:{name:"plus"}})],1),i("div",{staticClass:"MB10",staticStyle:{color:"#288837"}},[e._v("上传"+e._s(1===e.activeTab?"微信":"支付宝")+"收款码")])])])],1),i("div",{staticClass:"flexh"},[i("van-field",{attrs:{placeholder:"请输入收款码对应的实名认证姓名"},model:{value:e.codeNick,callback:function(t){e.codeNick=t},expression:"codeNick"}}),i("div",{staticClass:"font-14 example-guide",on:{click:function(t){e.showGuide=!0}}},[e._v("示例图")])],1),i("div",{staticClass:"gray font-13 ML20 MR10",staticStyle:{"margin-top":".05rem"}},[e._v("若与收款码对应的实名认证姓名不一致，该收款码将审核不通过")]),i("van-button",{staticClass:"upload-code-btn",attrs:{type:"primary",disabled:!e.userCodeWXImg||!e.codeNick},on:{click:e.onClikRight}},[e._v("\n      确认提交\n    ")]),i("van-popup",{staticStyle:{width:"95%",height:"95%"},on:{click:function(t){e.showGuide=!1}},model:{value:e.showGuide,callback:function(t){e.showGuide=t},expression:"showGuide"}},[i("img",{attrs:{src:1===e.activeTab?e.wxGuide:e.alipayGuide,alt:"guide",width:"100%",height:"100%"}})])],1)},a=[],o=(i("7cfd"),i("8f42"),i("0b34")),c=i.n(o),n=i("5d2d"),l=i("37b6"),r=i("9efd"),d=i("bbb4"),u=i.n(d),p=i("3fc0"),f=i.n(p),g={data:function(){return{host:l["a"],wechatCodeURL:l["e"],imageVoucherURL:l["c"],wxGuide:u.a,alipayGuide:f.a,token:n["a"].getSession("token")||"",files:[],userCodeWXImg:null,alipayCodeImg:null,files2:[],detailList:[],wxStatus:null,alipayStatus:null,wxFailMsg:null,alipayFailMsg:null,codeNick:"",showGuide:!1,userId:""}},props:{activeTab:{type:Number,default:0}},components:{FileUpload:c.a},mounted:function(){this.userId=n["a"].get("userInfo").id||""},methods:{onClikRight:function(){var e=this,t={wechat:this.userCodeWXImg,codeNick:this.codeNick};2===this.activeTab&&(t={alipay:this.userCodeWXImg,codeNick:this.codeNick}),Object(r["b"])(t).then((function(t){e.$toast("上传成功"),e.codeNick="",e.userCodeWXImg=null,e.$emit("goBack",!0)})).catch((function(t){e.$notify("".concat(t.message))}))},onClickLeft:function(){this.$emit("goBack"),this.codeNick="",this.userCodeWXImg=null},getUserCodeList:function(){var e=this;Object(r["q"])().then((function(t){var i=t.data.records;if(e.detailList=t.data.records,i.length>0){var s=i.filter((function(e){return 0===e.codeType&&0===e.codeMoney}))[0],a=i.filter((function(e){return 1===e.codeType&&0===e.codeMoney}))[0];s&&(e.userCodeWXImg=s.codeImgUrl,e.wxStatus=s.status,e.wxFailMsg=s.failMsg),a&&(e.alipayCodeImg=a.codeImgUrl,e.alipayStatus=a.status,e.alipayFailMsg=a.failMsg)}})).catch((function(t){e.$notify("".concat(t.message))}))},inputFile:function(e,t){if(e&&t&&(e.active,t.active,e.progress,t.progress,e.error,t.error,e.success!==t.success)){var i=e.response;200===i.code?this.userCodeWXImg=i.data:this.$notify("图片上传失败："+JSON.stringify(i))}!e&&t&&t.success&&t.response.id,Boolean(e)===Boolean(t)&&t.error===e.error||this.$refs.upload.active||(this.$refs.upload.active=!0)},inputFilter:function(e,t,i){if(e&&!t&&!/\.(jpeg|jpe|jpg|gif|png|webp)$/i.test(e.name))return i();e.blob="";var s=window.URL||window.webkitURL;s&&s.createObjectURL&&(e.blob=s.createObjectURL(e.file))},inputFile2:function(e,t){if(e&&t&&(e.active,t.active,e.progress,t.progress,e.error,t.error,e.success!==t.success)){var i=e.response;200===i.code?this.alipayCodeImg=i.data:this.$notify("图片上传失败："+JSON.stringify(i))}!e&&t&&t.success&&t.response.id,Boolean(e)===Boolean(t)&&t.error===e.error||this.$refs.uploadAlipay.active||(this.$refs.uploadAlipay.active=!0)}}},h=g,b=(i("b4d5"),i("6691")),v=Object(b["a"])(h,s,a,!1,null,"2496acda",null);t["default"]=v.exports},"996b":function(e,t,i){},b4d5:function(e,t,i){"use strict";var s=i("996b"),a=i.n(s);a.a},bbb4:function(e,t,i){e.exports=i.p+"img/wx_guide.34bc1b9b.jpg"}}]);
//# sourceMappingURL=chunk-5753040b.b03c4f33.js.map